(()=>{document.querySelector(".add-project-btn").addEventListener("click",(()=>{e()}));const e=()=>{document.querySelector("#project-form").classList.remove("hidden"),document.querySelector(".add-btn").addEventListener("click",t),document.querySelector(".cancel-btn").addEventListener("click",c)},t=()=>{let e=document.getElementById("project-input").value;if(""==e)alert("You must write something!");else{const t=m(e);e=null,r.push(t),i()}},c=()=>{const e=document.querySelector("#project-form");document.querySelector("#project-input").value="",e.classList.add("hidden")},o="task.selectedProjectId",n="task.projects";let r=JSON.parse(localStorage.getItem(n))||[],a=localStorage.getItem(o);const d=document.querySelector(".projects-container");d.addEventListener("click",(e=>{e.target.classList.contains("project-name")&&(a=e.target.dataset.projectId,i())}));const s=()=>{l(d),r.forEach((e=>{const t=document.createElement("div");t.dataset.projectId=e.id,t.classList.add("project-name"),t.innerText=e.name;const c=document.createElement("span");c.innerHTML="Ã—",t.appendChild(c),e.id==a&&t.classList.add("active-project"),d.appendChild(t)}))},l=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)},i=()=>{localStorage.setItem(n,JSON.stringify(r)),localStorage.setItem(o,a),s()},m=e=>({id:Date.now().toString(),name:e,tasks:[]});s()})();